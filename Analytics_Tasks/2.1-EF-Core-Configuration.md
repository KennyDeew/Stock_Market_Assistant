# Task 2.1: Configure Entity Framework Core

**Section:** Infrastructure Layer - Database  
**Priority:** High  
**Estimated Time:** 2-3 hours  
**Dependencies:** Task 1.1 (Domain Entities)

## Objective

Configure Entity Framework Core with PostgreSQL provider, create DbContext, and implement entity configurations.

## Requirements

### AnalyticsDbContext

Location: `Infrastructure/Persistence/AnalyticsDbContext.cs`

Implement DbContext with entity configurations applied through IEntityTypeConfiguration pattern.

### Entity Configurations

Create separate configuration classes for each entity:
- `AssetTransactionConfiguration`
- `AssetRatingConfiguration`

**Key requirements:**
- Use snake_case for table and column names
- Configure decimal precision (18,8) for quantities, (18,2) for amounts
- Create appropriate indexes for query performance
- Set up unique constraints where needed

## Acceptance Criteria

- [ ] AnalyticsDbContext exists in Infrastructure/Persistence/
- [ ] Entity configurations exist in Infrastructure/Persistence/Configurations/
- [ ] All entity properties mapped correctly
- [ ] Indexes created for optimization
- [ ] DbContext registered in DI container

## File Structure

```
Infrastructure/
  Persistence/
    AnalyticsDbContext.cs
    Configurations/
      AssetTransactionConfiguration.cs
      AssetRatingConfiguration.cs
```