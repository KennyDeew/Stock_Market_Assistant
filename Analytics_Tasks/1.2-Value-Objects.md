# Task 1.2: Implement Value Objects

**Section:** Domain Layer  
**Priority:** High  
**Estimated Time:** 1 hour  
**Dependencies:** None

## Objective

Implement value objects (Period) that represent immutable domain concepts.

## Context

Value Objects are immutable and equality is based on their properties, not identity. They encapsulate validation logic.

## Requirements

### Period Value Object

Represents a time period for aggregation.

**Properties:**
```csharp
public class Period : ValueObject
{
    public DateTime Start { get; }
    public DateTime End { get; }
    
    public Period(DateTime start, DateTime end)
    {
        // Validate: start < end
        // Validate: period not too long (e.g., max 1 year)
        Start = start;
        End = end;
    }
    
    public TimeSpan Duration => End - Start;
    
    protected override IEnumerable<object> GetEqualityComponents()
    {
        yield return Start;
        yield return End;
    }
}
```

**Business Rules:**
- `Start` must be < `End`
- Maximum period duration: 1 year (365 days)
- Both dates should be in UTC

**Named Constructors (Factory Methods):**
```csharp
public static Period LastHour(DateTime referenceTime)
public static Period LastDay(DateTime referenceTime)
public static Period LastWeek(DateTime referenceTime)
public static Period LastMonth(DateTime referenceTime)
public static Period Custom(DateTime start, DateTime end)
```

### ValueObject Base Class

Abstract base class for value object equality:

```csharp
public abstract class ValueObject
{
    protected abstract IEnumerable<object> GetEqualityComponents();
    
    public override bool Equals(object obj)
    {
        // Compare equality components
    }
    
    public override int GetHashCode()
    {
        // Generate hash from equality components
    }
    
    public static bool operator ==(ValueObject left, ValueObject right)
    public static bool operator !=(ValueObject left, ValueObject right)
}
```

## Acceptance Criteria

- [x] `Period` value object exists in `Domain/ValueObjects/`
- [x] `ValueObject` base class exists in `Domain/Common/`
- [x] `Period` is immutable (properties are `init` or private set)
- [x] `Period` validates business rules in constructor
- [x] Named factory methods (`LastHour`, etc.) work correctly
- [x] Equality comparison works by value, not reference
- [x] Two `Period` instances with same Start/End are equal

## File Structure

```
Domain/
  Common/
    ValueObject.cs
  ValueObjects/
    Period.cs
```

## Testing

Create unit tests in Section 7 (Task 7.1) that verify:
- Period validation (start < end, max duration)
- Named factory methods produce correct periods
- Equality comparison (same values → equal, different values → not equal)
- Immutability (cannot modify after creation)

## References

- DDD: Value Objects pattern
- Technical Specification: Period is used in aggregation algorithms