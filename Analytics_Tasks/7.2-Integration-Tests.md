# Task 7.2: Integration Tests

**Section:** Unit Tests  
**Priority:** Medium  
**Estimated Time:** 4-5 hours  
**Dependencies:** Sections 2, 3, 4, 6

## Objective

Integration tests for Infrastructure and WebApi.

## Test Classes

### Repository Tests (Testcontainers PostgreSQL)
- AssetTransactionRepositoryTests
- AssetRatingRepositoryTests

### Kafka Tests (Testcontainers Kafka)
- TransactionConsumerTests

### HTTP Client Tests (WireMock)
- PortfolioServiceClientTests (caching, retry)

### API Tests (WebApplicationFactory)
- AssetAnalyticsControllerTests
- PortfolioAnalyticsControllerTests

## Tools
- Testcontainers
- WireMock.Net
- WebApplicationFactory

## Acceptance Criteria

- [ ] Real PostgreSQL/Kafka via Testcontainers
- [ ] HTTP mocked with WireMock
- [ ] End-to-end API tests
- [ ] All endpoints tested